(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{8988:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-card",{staticClass:"table-bg no-shadow"},[a("q-card-section",[a("div",{staticClass:"text-h6"},[t._v("\n      Contacto\n    ")])]),a("q-separator",{attrs:{color:"white"}}),a("q-card-section",{staticClass:"q-pa-none"},[a("q-table",{staticClass:"table-bg",attrs:{data:t.contact,columns:t.columns,filter:t.filter,pagination:t.pagination,"hide-bottom":""},scopedSlots:t._u([t.isContactCreated?null:{key:"top-right",fn:function(){return[a("q-btn",{staticClass:"float-right text-capitalize",attrs:{color:"positive",icon:"add"},on:{click:function(e){t.addContactDialog=!0}}})]},proxy:!0},{key:"body-cell-Action",fn:function(e){return[a("q-td",{attrs:{props:e}},[a("q-btn",{staticClass:"text-amber-9",attrs:{icon:"edit",size:"sm",flat:"",dense:""},on:{click:function(a){return t.editContact(e.row)}}})],1)]}}],null,!0)})],1),a("q-dialog",{model:{value:t.addContactDialog,callback:function(e){t.addContactDialog=e},expression:"addContactDialog"}},[a("q-card",{staticStyle:{"min-width":"750px"}},[a("q-card-section",[a("div",{staticClass:"text-h6"},[t._v(t._s(t.formTitle))])]),a("q-card-section",{staticClass:"q-pt-none"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col q-mx-sm"},[a("q-input",{attrs:{dense:"",label:"Nombre"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),a("div",{staticClass:"col q-mx-sm"},[a("q-input",{attrs:{dense:"",label:"Teléfono"},model:{value:t.editedItem.phone,callback:function(e){t.$set(t.editedItem,"phone",e)},expression:"editedItem.phone"}})],1)]),a("div",{staticClass:"row q-mt-md"},[a("div",{staticClass:"col q-mx-sm"},[a("q-input",{attrs:{dense:"",label:"Dirección"},model:{value:t.editedItem.address,callback:function(e){t.$set(t.editedItem,"address",e)},expression:"editedItem.address"}})],1)])]),a("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[a("q-btn",{attrs:{flat:"",label:"Cancelar"},on:{click:t.close}}),a("q-btn",{attrs:{flat:"",label:t.formTitle},on:{click:t.save}})],1)],1)],1)],1)},o=[],i=(a("cca6"),a("a434"),a("b0c0"),a("758b")),c={name:"ContactTable",created:function(){this.getContactData()},data:function(){return{contact:[],filter:"",columns:[{name:"Name",label:"Nombre",field:"name",sortable:!0,align:"left"},{name:"Phone",label:"Teléfono",field:"phone",sortable:!0,align:"left"},{name:"Address",label:"Dirección",field:"address",sortable:!0,align:"left"},{name:"Action",label:"",field:"Action",sortable:!1,align:"center"}],pagination:{rowsPerPage:0},addContactDialog:!1,editedIndex:-1,editedItem:{name:"",phone:"",address:""},defaultItem:{name:"",phone:"",address:""}}},computed:{formTitle:function(){return-1===this.editedIndex?"Crear Contacto":"Editar Contacto"},isContactCreated:function(){return 0!==this.contact.length}},methods:{getContactData:function(){var t=this;i["a"].get("contact").then((function(e){t.contact=e.data})).catch((function(t){console.log("error"+t)}))},editContact:function(t){this.editedIndex=this.contact.indexOf(t),this.editedItem=Object.assign({},t),this.addContactDialog=!0},deleteContact:function(t){var e=this.contact.indexOf(t),a=this.contact[e].id;confirm("Estás seguro que querés eliminar este contacto?")&&this.contact.splice(e,1)&&i["a"].delete("contact/deleteContact/".concat(a)).catch((function(t){console.log(t.response)}))},close:function(){var t=this;this.addContactDialog=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},save:function(){var t=this;if(this.editedIndex>-1){var e=this.editedIndex;i["a"].put("contact/editContact/".concat(this.contact[e].id),this.editedItem).then((function(a){Object.assign(t.contact[e],{id:a.data.id,name:a.data.name,phone:a.data.phone,address:a.data.address})})).catch((function(t){console.log(t)}))}else i["a"].post("contact/addContact",this.editedItem).then((function(e){t.contact.push({id:e.data.id,name:e.data.name,phone:e.data.phone,address:e.data.address})})).catch((function(t){console.log(t.response.data.errors.message)}));this.close()}}},s=c,d=a("2877"),l=a("f09f"),r=a("a370"),m=a("eb85"),u=a("eaac"),f=a("9c40"),h=a("db86"),p=a("24e8"),b=a("27f9"),C=a("4b7e"),g=a("eebe"),q=a.n(g),x=Object(d["a"])(s,n,o,!1,null,null,null);e["default"]=x.exports;q()(x,"components",{QCard:l["a"],QCardSection:r["a"],QSeparator:m["a"],QTable:u["a"],QBtn:f["a"],QTd:h["a"],QDialog:p["a"],QInput:b["a"],QCardActions:C["a"]})}}]);