(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{3817:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-card",{staticClass:"table-bg no-shadow"},[a("q-card-section",[a("div",{staticClass:"text-h6"},[e._v("\n      Redes Sociales\n    ")])]),a("q-separator",{attrs:{color:"white"}}),a("q-card-section",{staticClass:"q-pa-none"},[a("q-table",{staticClass:"table-bg",attrs:{data:e.socialNetworks,columns:e.columns,filter:e.filter,pagination:e.pagination},scopedSlots:e._u([{key:"top-left",fn:function(){return[a("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Buscar"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]},proxy:!0},{key:"top-right",fn:function(){return[a("q-btn",{staticClass:"float-right text-capitalize",attrs:{color:"positive",icon:"add"},on:{click:function(t){e.addSocialNetworkDialog=!0}}})]},proxy:!0},{key:"body-cell-Action",fn:function(t){return[a("q-td",{attrs:{props:t}},[a("q-btn",{attrs:{icon:"edit",size:"sm",flat:"",dense:""},on:{click:function(a){return e.editSocialNetwork(t.row)}}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{icon:"delete",size:"sm",flat:"",dense:""},on:{click:function(a){return e.deleteSocialNetwork(t.row)}}})],1)]}},{key:"body-cell-Icon",fn:function(t){return[a("q-td",{attrs:{props:t}},[t.row.icon_url?a("q-img",{attrs:{src:"https://pediapp.com.ar/images/"+t.row.icon_url,height:"auto",width:"50px",ratio:1}}):e._e()],1)]}}])})],1),a("q-dialog",{model:{value:e.addSocialNetworkDialog,callback:function(t){e.addSocialNetworkDialog=t},expression:"addSocialNetworkDialog"}},[a("q-card",{staticStyle:{"min-width":"750px"}},[a("q-card-section",[a("div",{staticClass:"text-h6"},[e._v(e._s(e.formTitle))])]),a("q-card-section",{staticClass:"q-pt-none"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col q-mx-sm"},[a("q-input",{attrs:{dense:"",label:"Nombre"},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1)]),a("div",{staticClass:"row q-mt-md"},[a("div",{staticClass:"col q-mx-sm"},[a("q-input",{attrs:{dense:"",label:"Link"},model:{value:e.editedItem.url,callback:function(t){e.$set(e.editedItem,"url",t)},expression:"editedItem.url"}})],1)]),a("div",{staticClass:"row q-mt-md justify-center"},[a("div",{staticClass:"col-6 q-mx-sm"},[a("q-file",{attrs:{rounded:"",outlined:"",type:"file","bottom-slots":"",label:"Icono",counter:"","max-file-size":"2097152","max-files":"1",accept:".jpg, image/*"},on:{rejected:e.onRejected},scopedSlots:e._u([{key:"before",fn:function(){return[a("q-icon",{attrs:{name:"attachment"}})]},proxy:!0},{key:"append",fn:function(){return[null!==e.editedItem.icon_url?a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(t){t.stopPropagation(),e.editedItem.icon_url=null}}}):e._e(),a("q-icon",{attrs:{name:"search"},on:{click:function(e){e.stopPropagation()}}})]},proxy:!0},{key:"hint",fn:function(){return[e._v("\n                Tamaño máximo 2MB\n              ")]},proxy:!0}]),model:{value:e.editedItem.file,callback:function(t){e.$set(e.editedItem,"file",t)},expression:"editedItem.file"}})],1)])]),a("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[a("q-btn",{attrs:{flat:"",label:"Cancelar"},on:{click:e.close}}),a("q-btn",{attrs:{flat:"",label:e.formTitle},on:{click:e.save}})],1)],1)],1)],1)},o=[],n=(a("cca6"),a("a434"),a("b0c0"),a("758b")),l={name:"SocialNetworksTable",created:function(){this.getSocialNetworks()},data:function(){return{socialNetworks:[],filter:"",columns:[{name:"Id",label:"ID",field:"id",sortable:!0,align:"left"},{name:"Name",label:"Nombre",field:"name",sortable:!0,align:"left"},{name:"Url",label:"Link",field:"url",sortable:!0,align:"left"},{name:"Icon",label:"Imagen",field:"icon_url",sortable:!0,align:"left"},{name:"Action",label:"",field:"Action",sortable:!1,align:"center"}],pagination:{rowsPerPage:5},addSocialNetworkDialog:!1,editedIndex:-1,editedItem:{name:"",url:"",file:null,icon_url:""},defaultItem:{name:"",url:"",file:null,icon_url:""}}},computed:{formTitle:function(){return-1===this.editedIndex?"Crear Red Social":"Editar Red Social"}},methods:{getSocialNetworks:function(){var e=this;n["a"].get("socialNetworks").then((function(t){e.socialNetworks=t.data})).catch((function(e){console.log("error"+e)}))},editSocialNetwork:function(e){this.editedIndex=this.socialNetworks.indexOf(e),this.editedItem=Object.assign({},e),this.addSocialNetworkDialog=!0},deleteSocialNetwork:function(e){var t=this.socialNetworks.indexOf(e),a=this.socialNetworks[t].id;confirm("Estás seguro que querés eliminar esta red social?")&&this.socialNetworks.splice(t,1)&&n["a"].delete("socialNetworks/deleteSocialNetwork/".concat(a)).catch((function(e){console.log(e.response)}))},close:function(){var e=this;this.addSocialNetworkDialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){var e=this,t=new FormData;if(t.set("name",this.editedItem.name),t.set("url",this.editedItem.url),t.append("file",this.editedItem.file),this.editedIndex>-1){var a=this.editedIndex;n["a"].put("socialNetworks/editSocialNetwork/".concat(this.socialNetworks[a].id),t).then((function(t){Object.assign(e.socialNetworks[a],{id:t.data.id,name:t.data.name,url:t.data.url,file:null,icon_url:t.data.icon_url})})).catch((function(e){console.log(e)}))}else n["a"].post("socialNetworks/addSocialNetwork",t).then((function(t){e.socialNetworks.push({id:t.data.id,name:t.data.name,url:t.data.url,file:null,icon_url:t.data.icon_url})})).catch((function(e){console.log(e.response.data.errors.message)}));this.close()},onRejected:function(){this.$q.notify({type:"negative",message:"Archivo no permitido"})}}},s=l,c=a("2877"),r=a("f09f"),d=a("a370"),u=a("eb85"),f=a("eaac"),m=a("27f9"),p=a("0016"),k=a("9c40"),b=a("db86"),h=a("068f"),w=a("24e8"),g=a("7d53"),q=a("4b7e"),I=a("eebe"),N=a.n(I),x=Object(c["a"])(s,i,o,!1,null,null,null);t["default"]=x.exports;N()(x,"components",{QCard:r["a"],QCardSection:d["a"],QSeparator:u["a"],QTable:f["a"],QInput:m["a"],QIcon:p["a"],QBtn:k["a"],QTd:b["a"],QImg:h["a"],QDialog:w["a"],QFile:g["a"],QCardActions:q["a"]})}}]);