(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{a824:function(t,e,a){},c033:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-card",[a("q-card-section",[a("div",{staticClass:"text-h6"},[t._v("\r\n        Categorías\r\n        "),a("q-btn",{staticClass:"float-right text-capitalize",attrs:{color:"positive",icon:"add"},on:{click:function(e){t.addCategoryDialog=!0}}})],1)]),a("div",[a("q-list",{staticClass:"rounded-borders",attrs:{bordered:""}},t._l(t.categories,(function(e,i){return a("q-expansion-item",{key:e.id,attrs:{popup:"",group:":)","expand-separator":"","expand-icon-toggle":"","switch-toggle-side":""},scopedSlots:t._u([{key:"header",fn:function(){return[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",{attrs:{icon:"category",color:"primary","text-color":"white"}})],1),a("q-item-section",[t._v("\r\n              "+t._s(e.name)+"\r\n            ")]),0!=i?a("q-item-section",{attrs:{side:""}},[a("q-icon",{staticClass:"pointer",attrs:{color:"primary",size:"xs",name:"arrow_upward"},on:{click:function(e){return t.orderUp(i)}}})],1):t._e(),i<t.categories.length-1?a("q-item-section",{attrs:{side:""}},[a("q-icon",{staticClass:"pointer",attrs:{color:"primary",size:"xs",name:"arrow_downward"},on:{click:function(e){return t.orderDown(i)}}})],1):t._e(),a("q-item-section",{attrs:{side:""}},[a("q-icon",{staticClass:"pointer",attrs:{name:"edit",color:"primary",size:"xs"},on:{click:function(a){return t.editCategory(e)}}})],1),a("q-item-section",{attrs:{side:""}},[a("q-icon",{staticClass:"pointer",attrs:{name:"delete",color:"primary",size:"xs"},on:{click:function(a){return t.deleteCategory(e)}}})],1)]},proxy:!0}],null,!0)},[t._l(t.categories[i].subcategories,(function(i){return a("q-item",{key:i.id,attrs:{label:i.name}},[a("q-item-section",{staticClass:"q-pl-md",attrs:{avatar:""}},[a("q-icon",{attrs:{color:"primary",name:"category"}})],1),a("q-item-section",[t._v("\r\n              "+t._s(i.name)+"\r\n            ")]),a("q-item-section",{attrs:{side:""}},[a("q-icon",{staticClass:"pointer",attrs:{color:"primary",size:"xs",name:"edit"},on:{click:function(a){return t.editSubcategory(e,i)}}})],1),a("q-item-section",{attrs:{side:""}},[a("q-icon",{staticClass:"pointer",attrs:{color:"primary",size:"xs",name:"delete"},on:{click:function(e){return t.deleteSubcategory(i)}}})],1)],1)})),a("q-item",{attrs:{clickable:""},on:{click:function(a){t.addSubcategoryDialog=!0,t.editedItem.categoryId=e.id}}},[a("q-item-section",{staticClass:"q-pl-md",attrs:{avatar:""}},[a("q-icon",{attrs:{name:"add",color:"green"}})],1),a("q-item-section",[t._v("\r\n              Agregar Subcategoría\r\n            ")])],1)],2)})),1)],1),a("q-dialog",{attrs:{persistent:""},model:{value:t.addCategoryDialog,callback:function(e){t.addCategoryDialog=e},expression:"addCategoryDialog"}},[a("q-card",{staticStyle:{"min-width":"750px"}},[a("q-card-section",[a("div",{staticClass:"text-h6"},[t._v(t._s(t.formCategoryTitle))])]),a("q-card-section",{staticClass:"q-pt-none"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col q-mx-sm"},[a("q-input",{attrs:{dense:"",label:"Nombre"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1)])]),a("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[a("q-btn",{attrs:{flat:"",label:"Cancelar"},on:{click:t.closeNewCategoryDialog}}),a("q-btn",{attrs:{flat:"",label:t.formCategoryTitle},on:{click:t.saveNewCategory}})],1)],1)],1),a("q-dialog",{attrs:{persistent:""},model:{value:t.addSubcategoryDialog,callback:function(e){t.addSubcategoryDialog=e},expression:"addSubcategoryDialog"}},[a("q-card",{staticStyle:{"min-width":"750px"}},[a("q-card-section",[a("div",{staticClass:"text-h6"},[t._v(t._s(t.formSubcategoryTitle))])]),a("q-card-section",{staticClass:"q-pt-none"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col q-mx-sm"},[a("q-input",{attrs:{dense:"",label:"Nombre"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1)])]),a("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[a("q-btn",{attrs:{flat:"",label:"Cancelar"},on:{click:t.closeNewSubcategoryDialog}}),a("q-btn",{attrs:{flat:"",label:t.formSubcategoryTitle},on:{click:t.saveNewSubcategory}})],1)],1)],1)],1),a("div",{staticClass:"q-ma-md"},[t.orderModified?a("q-btn",{staticClass:"text-capitalize",attrs:{color:"positive"},on:{click:function(e){t.getCategories(),t.orderModified=!1}}},[t._v("\r\n        Restaurar\r\n        ")]):t._e()],1),a("div",{staticClass:"q-ma-md"},[t.orderModified?a("q-btn",{staticClass:"text-capitalize",attrs:{color:"positive"},on:{click:function(e){return t.orderCategories()}}},[t._v("\r\n        Confirmar orden\r\n        ")]):t._e()],1)],1)},o=[],r=(a("cca6"),a("a434"),a("b0c0"),a("758b")),s=a("c18c"),n={name:"CategoriesExpansionItem",data:function(){return{categories:[],orderModified:!1,addCategoryDialog:!1,addSubcategoryDialog:!1,editedIndex:-1,editedItem:{name:"",categoryId:""},defaultItem:{name:"",categoryId:""}}},created:function(){this.getCategories()},computed:{formCategoryTitle:function(){return-1===this.editedIndex?"Crear Categoría":"Editar Categoría"},formSubcategoryTitle:function(){return-1===this.editedIndex?"Crear Subcategoría":"Editar Subcategoría"}},methods:{getCategories:function(){var t=this;r["a"].get("categories").then((function(e){t.categories=e.data})).catch((function(t){console.log("error"+t)}))},editCategory:function(t){this.editedIndex=this.categories.indexOf(t),this.editedItem=Object.assign({},t),this.addCategoryDialog=!0},editSubcategory:function(t,e){this.editedIndex=e.id,this.editedItem=Object.assign({},e),this.addSubcategoryDialog=!0},deleteCategory:function(t){var e=this.categories.indexOf(t),a=this.categories[e].id;confirm("Estás seguro que querés eliminar esta categoría?")&&this.categories.splice(e,1)&&r["a"].delete("categories/deleteCategory/".concat(a)).catch((function(t){console.log(t.response.data.message)}))},deleteSubcategory:function(t){var e=this;confirm("Estás seguro que querés eliminar esta subcategoría?")&&r["a"].delete("subcategories/deleteSubcategory/".concat(t.id)).then((function(){r["a"].get("categories").then((function(t){e.categories=t.data})).catch((function(t){console.log("error"+t)}))})).catch((function(t){console.log(t.response.data.message)}))},saveNewCategory:function(){var t=this;if(this.editedIndex>-1){var e=this.editedIndex;r["a"].put("categories/editCategory/".concat(this.categories[e].id),this.editedItem).then((function(a){Object.assign(t.categories[e],{id:a.data.id,name:a.data.name})})).catch((function(t){console.log(t)}))}else r["a"].post("categories/addCategory",this.editedItem).then((function(e){t.categories.push({id:e.data.id,name:e.data.name})})).catch((function(t){console.log(t.response.data.message)}));this.closeNewCategoryDialog()},saveNewSubcategory:function(){var t=this;this.editedIndex>-1?r["a"].put("subcategories/editSubcategory/".concat(this.editedIndex),this.editedItem).then((function(){r["a"].get("categories").then((function(e){t.categories=e.data})).catch((function(t){console.log("error"+t)}))})).catch((function(t){console.log(t)})):r["a"].post("subcategories/addSubcategory",this.editedItem).then((function(){r["a"].get("categories").then((function(e){t.categories=e.data})).catch((function(t){console.log("error"+t)}))})).catch((function(t){console.log(t.response.data.message)})),this.closeNewSubcategoryDialog()},closeNewCategoryDialog:function(){var t=this;this.addCategoryDialog=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},closeNewSubcategoryDialog:function(){var t=this;this.addSubcategoryDialog=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},orderUp:function(t){this.categories=Object(s["a"])(this.categories,t,t-1),this.orderModified||(this.orderModified=!0)},orderDown:function(t){this.categories=Object(s["a"])(this.categories,t,t+1),this.orderModified||(this.orderModified=!0)},orderCategories:function(){var t=this;r["a"].put("categories/orderCategories",this.categories).then((function(){t.orderModified=!1}))}}},c=n,d=(a("e77a"),a("2877")),l=a("f09f"),g=a("a370"),u=a("9c40"),m=a("1c1c"),f=a("3b73"),h=a("66e5"),p=a("4074"),b=a("0016"),y=a("cb32"),C=a("24e8"),q=a("27f9"),v=a("4b7e"),x=a("eebe"),I=a.n(x),S=Object(d["a"])(c,i,o,!1,null,null,null);e["default"]=S.exports;I()(S,"components",{QCard:l["a"],QCardSection:g["a"],QBtn:u["a"],QList:m["a"],QExpansionItem:f["a"],QItem:h["a"],QItemSection:p["a"],QIcon:b["a"],QAvatar:y["a"],QDialog:C["a"],QInput:q["a"],QCardActions:v["a"]})},e77a:function(t,e,a){"use strict";a("a824")}}]);